{
	"definition_type": "instrument",
    "code": "drexel_nutritional_info_app",
    "name": "Drexel Nutritional Information App",
    "description": "The app allows users to keep a list of the current food items they have around them and determine the energy density of those items.  Users provide a regular or ad hoc report of the current nutritional profile within their environment",
	"version": 1,
    "settings": [
	{
		"code" : "pilrhealth:drexel_nutritional_info_app:report_notification_frequency",
		"name" : "Report Notification Frequency",      
        "description" : "The frequency with which the user is reminded to check their current nutritional profile and submit a report. Values can be 'Daily' or 'Weekly'",
        "value" : "Daily",
        "required" : true ,  
		"type": "text_setting"
    }
    ],
    "datasets": [
        {
            "name": "Nutritional Data",
            "code": "pilrhealth:drexel_nutritional_info_app:nutritional_data",
            "schemas": [
                {
					"type": "concordia",
                    "name": "Version 2",
                    "schemaVersion": 2,
                    "specification": {
                        "type": "object",
                        "fields": [
                            {
                                "type" : "number",
                                "name" : "food_energy_density",
								"label": "Food Energy Density"
                            },
                            {
                                "type" : "number",
                                "name" : "number_of_caloric_beverages",
								"label": "Number of Caloric Beverages"
                            },
							{
								"type": "string",
                                "category": "date",
								"label": "Report Submission Date",
								"name": "report_submission_date"
							}
						]
                    }
                }
            ]
        },
		{
	      "name": "App Log",
	      "code": "pilrhealth:mobile:app_log",
	      "schemas": [
	        {
	          "type": "concordia",
	          "schemaVersion": 1,
	          "name": "1.0",
	          "specification": {
	            "type": "object",
	            "fields": [
	              {
	                "name": "level",
	                "optional": false,
	                "doc": "One of: error, warning, debug, or info.",
	                "label": "Log level",
	                "type": "string"
	              },
	              {
	                "name": "tag",
	                "optional": true,
	                "doc": "A searchable string for event analytics.",
	                "label": "Tag",
	                "type": "string"
	              },
	              {
	                "name": "msg",
	                "optional": false,
	                "doc": "Human readable message.",
	                "label": "Message",
	                "type": "string"
	              },
	              {
	                "label": "Additional Data",
	                "optional": true,
	                "type": "object",
	                "name": "args",
	                "fields": []
	              }
	            ]
	          }
	        }
	      ]
	    },
        {
            "name": "Nutritrol Events",
            "code": "pilrhealth:drexel_nutritional_info_app:nutritrol_events_nutritionix",
            "schemas": [
                {
                    "type": "concordia",
                    "name": "Version 1",
                    "schemaVersion": 1,
                    "specification": {
                        "type": "object",
                        "fields": [
							{
								"type": "string",
                                "label": "Operation",
								"name": "operation"
							},
							{
								"type" : "object",
								"optional":true,
								"name" : "item_data",
								"label": "Item Data",
								"fields":[
									{
										"name":"item_id",
										"optional":true,
										"type":"string"
									},
									{
										"name":"item_name",
										"optional":true,
										"type":"string"
									},
									{
										"name":"brand_id",
										"optional":true,
										"type":"string"
									},
									{
										"name":"brand_name",
										"optional":true,
										"type":"string"
									},
									{
										"name":"item_description",
										"optional":true,
										"type":"string"
									},
									{
										"name":"updated_at",
										"optional":true,
										"type":"string"
									},
									{
										"name":"nf_ingredient_statement",
										"optional":true,
										"type":"string"
									},
									{
										"name":"nf_serving_size_unit",
										"optional":true,
										"type":"string"
									},
									{
										"name":"nf_water_grams",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_calories",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_calories_from_fat",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_total_fat",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_saturated_fat",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_trans_fatty_acid",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_polyunsaturated_fat",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_monounsaturated_fat",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_cholesterol",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_sodium",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_total_carbohydrate",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_dietary_fiber",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_sugars",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_protein",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_vitamin_a_dv",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_vitamin_c_dv",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_calcium_dv",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_iron_dv",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_servings_per_container",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_serving_size_qty",
										"optional":true,
										"type":"number"
									},
									{
										"name":"nf_serving_weight_grams",
										"optional":true,
										"type":"number"
									}
								]
							}
						]
                    }
                }
            ]
        }
    ]
}
